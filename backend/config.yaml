storage:
  sqlite_path: veille.db
crawl:
  lookback_days: 7
  concurrency: 8      # R√©duit de 12 √† 8 (moins agressif)
  per_host_rps: 1.0   # R√©duit de 1.5 √† 1.0 req/sec par host
  timeout_sec: 25
  user_agent: VeilleTechBot/1.0 (+https://github.com/nathansornet/veille_tech_crawling)
  min_text_length: 300
  path_allow_regex: (?i)(/blog|/posts?|/post|/articles?|/news|/p/|^/@|/tag/|/t/|/n/|/stories?)
  path_deny_regex: (?i)(forum|community|jobs|careers|events|release[-_ ]?notes|whats[-_
    ]?new|changelog|\bdocs?\b|/api/|/sdk/|buzz|people|marketing|podcast|social)
export:
  out_dir: export
  make_markdown_digest: true
  max_items_per_cat: 60
notify:
  slack_webhook_env: SLACK_WEBHOOK_URL

# Email Digest Configuration (Phase 2 - Daily Push)
email_digest:
  enabled: true
  # SendGrid API configuration
  sendgrid_api_key_env: SENDGRID_API_KEY
  from_email: veille@datamag.dev  # Change to your verified sender
  from_name: "Veille MAG"

  # Recipients (MVP: static list)
  recipients:
    - email: your-email@example.com  # Replace with your email
      name: "Your Name"

  # Daily digest settings
  schedule:
    frequency: daily  # daily, weekly, manual
    time: "08:00"
    timezone: "Europe/Paris"
    days: [mon, tue, wed, thu, fri]  # Only weekdays

  # Content selection
  selection:
    articles_per_digest: 1  # Start with 1 article/day
    min_score_threshold: 60  # Only send high-quality articles
    round_robin_categories: true  # Rotate categories
    avoid_duplicates_days: 30  # Don't send same article for 30 days

monitoring:
  log_level: INFO
  export_metrics: true
content_types:
  # Sources communautaires authentiques (ing√©nieurs individuels, non corporate)
  # Seules ces sources peuvent produire des articles "rex"
  community_sources:
    - VuTrinh ¬∑ Data Engineering
    - Seattle Data Guy
    - Blef ¬∑ Data (FR)
    - Data Engineering Weekly
    - DataEngineer.io
    # Cr√©ateurs LinkedIn Data Engineering
    - Zach Wilson ¬∑ DataExpert.io
    - Joe Reis ¬∑ Data Engineering
    - Julien Hurault ¬∑ Ju Data Engineering
    - Alireza Sadeghi ¬∑ Practical Data Engineering
    - Data Engineer Things
    - Benn Stancil ¬∑ Mode Analytics
    - Chip Huyen ¬∑ ML Engineering
    # Nouvelles sources communautaires (Phase 1)
    - Reddit Data Engineering (Top)
  rex_keywords:
  - retour d'exp√©rience
  - retour d'exp√©rience
  - rex
  - all hands
  - all-hands
  - postmortem
  - post-mortem
  - incident
  - lessons learned
  - what we learned
  - our journey
  - our experience
  - how we built
  - how we scaled
  - migration story
  - case study
  - in production
  - war stories
  - behind the scenes
  - real world
  - how we migrated
  - why we chose
  - why we moved
  - engineering at
  - scaling at
  - building at
  - year in review
  - retrospective
  - our stack
  - deep dive
  - architecture
  - infrastructure at
  - platform evolution
  - technical decision
  rex_title_bonus: 30
  rex_min_score: 18
categories:
- key: warehouses_engines
  title: üèõÔ∏è Warehouses & Query Engines
  keywords:
  - snowflake
  - databricks
  - bigquery
  - redshift
  - athena
  - trino
  - duckdb
  - spark
  - starrocks
  - clickhouse
  - warehouse
  - lakehouse
- key: etl_orchestration
  title: üîÑ Orchestration, ETL & Data Movement
  keywords:
  - airflow
  - dagster
  - prefect
  - airbyte
  - meltano
  - dbt
  - sqlmesh
  - dataform
  - ingestion
  - pipeline
  - batch
  - elt
  - etl
- key: data_modeling_governance
  title: üìê Data Modeling, Governance & Quality
  keywords:
  - data modeling
  - star schema
  - data vault
  - governance
  - catalog
  - lineage
  - quality
  - expectations
  - datafold
  - great expectations
  - unity catalog
  - semantic layer
- key: lake_storage_formats
  title: üóÑÔ∏è Data Lakes, Storage & Formats
  keywords:
  - parquet
  - iceberg
  - delta lake
  - hudi
  - s3
  - gcs
  - adls
  - lake
  - compaction
  - partitions
  - object storage
- key: cloud_infra_observability
  title: ‚òÅÔ∏è Cloud, Infra & Observability
  keywords:
  - aws
  - gcp
  - azure
  - ovh
  - terraform
  - kubernetes
  - k8s
  - cost
  - observability
  - monitoring
  - grafana
  - datadog
  - prometheus
- key: python_analytics
  title: üêç Python, Analytics & Tools
  keywords:
  - python
  - polars
  - pandas
  - duckdb
  - fastapi
  - sql
  - analytics engineering
- key: ai_data_engineering
  title: ü§ñ AI for Data Engineering
  keywords:
  - mlops
  - llm
  - rag
  - genai
  - embedding
  - vector db
  - feature store
  - ml
  - ai
- key: news
  title: üì∞ Tech / Cloud / IA News
  keywords:
  - ia
  - cloud
  - data
  - innovation
  - cybers√©curit√©
  - technologie
category_thresholds:
  warehouses_engines: 50        # Baiss√© de 58 ‚Üí 50 (avg: 55.2, m√©dian proche)
  etl_orchestration: 50         # Baiss√© de 58 ‚Üí 50 (avg: 54.2)
  data_modeling_governance: 50  # Baiss√© de 58 ‚Üí 50 (avg: 53.0)
  lake_storage_formats: 52      # Baiss√© de 58 ‚Üí 52 (avg: 56.8, garder qualit√©)
  cloud_infra_observability: 48 # Baiss√© de 55 ‚Üí 48 (avg: 45.9, beaucoup rejet√©s)
  python_analytics: 48          # Baiss√© de 55 ‚Üí 48 (avg: 43.5, beaucoup rejet√©s)
  ai_data_engineering: 50       # Baiss√© de 58 ‚Üí 50 (avg: 49.7)
  news: 58                      # MAINTENU √† 58 (avg: 53.6, filtrage strict OK)
  hors_sujet: 100               # Jamais inclus
sources:
- name: Snowflake Blog
  url: https://www.snowflake.com/feed/
- name: Databricks Blog
  url: https://databricks.com/feed
- name: Redshift / AWS Big Data
  url: https://aws.amazon.com/blogs/big-data/feed/
- name: DuckDB Blog
  url: https://duckdb.org/feed.xml
- name: Trino Blog
  url: https://trino.io/feed.xml
- name: Apache Airflow Blog
  url: https://airflow.apache.org/blog/index.xml
- name: Dagster Blog
  url: https://dagster.io/blog/rss.xml
- name: dbt Blog
  url: https://www.getdbt.com/blog/rss.xml
- name: SQLMesh Blog
  url: https://sqlmesh.com/blog/feed.xml
- name: Airbyte Blog
  url: https://airbyte.com/blog/rss.xml
- name: Meltano Blog
  url: https://meltano.com/blog/index.xml
- name: dlt Blog
  url: https://dlthub.com/blog/rss.xml
- name: Rudderstack Blog
  url: https://www.rudderstack.com/blog/rss.xml
- name: Apache Iceberg
  url: https://iceberg.apache.org/feed.xml
- name: Apache Hudi
  url: https://hudi.apache.org/blog/feed.xml
- name: AWS Blog
  url: https://aws.amazon.com/blogs/aws/feed/
- name: Azure Blog
  url: https://azure.microsoft.com/en-us/blog/feed/
- name: Cloudflare Engineering
  url: https://blog.cloudflare.com/rss/
- name: Pydantic Blog
  url: https://docs.pydantic.dev/latest/blog/feed.xml
- name: Hugging Face Blog
  url: https://huggingface.co/blog/feed.xml
- name: LangChain Blog
  url: https://blog.langchain.dev/rss/
- name: Lightning AI
  url: https://lightning.ai/pages/blog/rss/
- name: OCTO Talks!
  url: https://blog.octo.com/feed/
- name: OVHcloud Blog
  url: https://blog.ovhcloud.com/feed/
- name: Dataiku Blog
  url: https://blog.dataiku.com/rss.xml
- name: Artefact Blog
  url: https://blog.artefact.com/feed/
- name: Zenika Tech Blog
  url: https://blog.zenika.com/feed/
- name: Theodo Tech Blog
  url: https://blog.theodo.com/feed/
- name: VuTrinh ¬∑ Data Engineering
  url: https://vutr.substack.com/feed
- name: Data Engineering Weekly
  url: https://www.dataengineeringweekly.com/feed
- name: Seattle Data Guy
  url: https://seattledataguy.substack.com/feed
- name: DataEngineer.io
  url: https://blog.dataengineer.io/feed
- name: Blef ¬∑ Data (FR)
  url: https://www.blef.fr/blog/rss
# Cr√©ateurs LinkedIn Data Engineering (Substack/blogs personnels)
- name: Zach Wilson ¬∑ DataExpert.io
  url: https://blog.dataexpert.io/feed
- name: Joe Reis ¬∑ Data Engineering
  url: https://joereis.substack.com/feed
- name: Julien Hurault ¬∑ Ju Data Engineering
  url: https://juhache.substack.com/feed
- name: Alireza Sadeghi ¬∑ Practical Data Engineering
  url: https://www.pracdata.io/feed
- name: Data Engineer Things
  url: https://dataengineerthings.substack.com/feed
- name: Benn Stancil ¬∑ Mode Analytics
  url: https://benn.substack.com/feed
- name: Chip Huyen ¬∑ ML Engineering
  url: https://huyenchip.com/feed.xml
# Hashnode sources supprim√©es - trop de rate limiting (429)
# - name: Hashnode ¬∑ data
#   url: https://hashnode.com/n/data/rss
# - name: Hashnode ¬∑ machine-learning
#   url: https://hashnode.com/n/machine-learning/rss
- name: daily.dev
  url: https://daily.dev
- name: Netflix Tech Blog
  url: https://netflixtechblog.com/feed
- name: Uber Engineering Blog
  url: https://www.uber.com/blog/engineering/rss/
- name: Airbnb Engineering
  url: https://medium.com/feed/airbnb-engineering
- name: LinkedIn Engineering
  url: https://www.linkedin.com/blog/engineering/feed
- name: Meta Engineering
  url: https://engineering.fb.com/feed/
- name: Instagram Engineering
  url: https://instagram-engineering.com/feed
- name: Twitter/X Engineering
  url: https://blog.x.com/engineering/en_us/blog.rss
- name: Pinterest Engineering
  url: https://medium.com/feed/pinterest-engineering
- name: Lyft Engineering
  url: https://eng.lyft.com/feed
- name: Stripe Engineering Blog
  url: https://stripe.com/blog/feed.rss
- name: PayPal Engineering
  url: https://medium.com/feed/paypal-tech
- name: Wise Engineering
  url: https://medium.com/feed/wise-engineering
- name: Revolut Engineering
  url: https://medium.com/feed/revolut
- name: GitHub Engineering
  url: https://github.blog/engineering/feed/
- name: GitLab Engineering
  url: https://about.gitlab.com/atom.xml
- name: Slack Engineering
  url: https://slack.engineering/feed/
- name: Dropbox Tech Blog
  url: https://dropbox.tech/feed
- name: Etsy Engineering
  url: https://www.etsy.com/codeascraft/rss
- name: Booking.com Tech Blog
  url: https://blog.booking.com/feed/
- name: Walmart Global Tech
  url: https://medium.com/feed/walmartglobaltech
- name: Heroku Engineering
  url: https://blog.heroku.com/engineering/feed
- name: Salesforce Engineering
  url: https://engineering.salesforce.com/feed/
- name: Zendesk Engineering
  url: https://zendesk.engineering/feed
- name: DoorDash Engineering
  url: https://doordash.engineering/feed/
- name: Grab Tech Blog
  url: https://engineering.grab.com/feed.xml
- name: Spotify Engineering
  url: https://engineering.atspotify.com/feed/
- name: N26 Engineering
  url: https://medium.com/feed/insiden26
- name: Amplitude Engineering
  url: https://amplitude.engineering/feed
# ===== NOUVELLES SOURCES (Phase 1 - Am√©lioration Pertinence) =====
- name: Reddit Data Engineering (Top)
  url: https://www.reddit.com/r/dataengineering/top/.rss?limit=20
- name: Shopify Engineering
  url: https://shopify.engineering/blog.atom
- name: Data Mechanics
  url: https://www.datamechanics.co/blog-rss.xml
- name: Twitch Engineering
  url: https://blog.twitch.tv/en/rss/
- name: Coinbase Engineering
  url: https://www.coinbase.com/blog/engineering/rss.xml

# ===== YOUTUBE CHANNELS (Phase 2 - Media Sources) =====
# Cha√Ænes Data Engineering populaires
- name: Seattle Data Guy (YouTube)
  url: https://www.youtube.com/feeds/videos.xml?channel_id=UCmLGJ3VYBcfRaWbP6JLJcpA
  type: youtube
# Advancing Analytics - 404 error, source d√©sactiv√©e
# - name: Advancing Analytics (YouTube)
#   url: https://www.youtube.com/feeds/videos.xml?channel_id=UCQ3xgpVZYYvFKXsVRb7gWLw
#   type: youtube
# Data with Zach - 404 error, source d√©sactiv√©e
# - name: Data with Zach (YouTube)
#   url: https://www.youtube.com/feeds/videos.xml?channel_id=UCQ5xYp8_UzYdVXuogsPWyOQ
#   type: youtube
# Darshil Parmar - Channel ID incorrect, source d√©sactiv√©e temporairement
# - name: Darshil Parmar (YouTube)
#   url: https://www.youtube.com/feeds/videos.xml?channel_id=UCH9hKLJ2dXLXI5gNOi5IXvw
#   type: youtube
- name: Andreas Kretz (YouTube)
  url: https://www.youtube.com/feeds/videos.xml?channel_id=UCY8mzqqGwl5_bTpBY9qLMAA
  type: youtube
# E-learning Bridge - 404 error, source d√©sactiv√©e
# - name: E-learning Bridge (YouTube)
#   url: https://www.youtube.com/feeds/videos.xml?channel_id=UCLIBQlOMRaKXW2blCK6CnBg
#   type: youtube
- name: Guy in a Cube (YouTube)
  url: https://www.youtube.com/feeds/videos.xml?channel_id=UCFp1vaKzpfvoGai0vE5VJ0w
  type: youtube
# Learn Data with Mark - 404 error, source d√©sactiv√©e
# - name: Learn Data with Mark (YouTube)
#   url: https://www.youtube.com/feeds/videos.xml?channel_id=UC9xU_-2sjIM6b7eNNK6VWXA
#   type: youtube

# ===== PODCASTS (Phase 2 - Media Sources) =====
# Podcasts Data Engineering & Analytics
- name: Data Engineering Podcast
  url: https://www.dataengineeringpodcast.com/feed/mp3/
  type: podcast
- name: Analytics Power Hour
  url: https://analyticshour.io/feed/podcast/
  type: podcast
# DataFramed (DataCamp) - Flux RSS indisponible (404)
# - name: DataFramed (DataCamp)
#   url: https://feeds.simplecast.com/xKDRRjA7
#   type: podcast
- name: The Analytics Engineering Podcast (dbt)
  url: https://roundup.getdbt.com/feed.xml
  type: podcast
# DataTopics - Flux RSS indisponible (404)
# - name: DataTopics
#   url: https://anchor.fm/s/46a8f5d4/podcast/rss
#   type: podcast
relevance:
  weights:
    semantic: 0.55
    source: 0.2
    quality: 0.15
    tech: 0.1
  score_threshold: 45
  profile_text: 'data engineering, data platform, data warehouse, lakehouse, dbt,
    airflow, dagster, prefect, spark, snowflake, databricks, bigquery, redshift, duckdb,
    orchestration, ingestion, etl, elt, data modeling, governance, quality, monitoring,
    observability, data contracts, lakehouse, iceberg, delta lake.

    '
  source_weights:
    Data Engineering Weekly: 1.0
    VuTrinh ¬∑ Data Engineering: 1.0
    Start Data Engineering: 0.95
    Seattle Data Guy: 0.95
    # Cr√©ateurs LinkedIn Data Engineering (haute autorit√©)
    Zach Wilson ¬∑ DataExpert.io: 1.0
    Joe Reis ¬∑ Data Engineering: 1.0
    Chip Huyen ¬∑ ML Engineering: 0.95
    Julien Hurault ¬∑ Ju Data Engineering: 0.95
    Alireza Sadeghi ¬∑ Practical Data Engineering: 0.95
    Data Engineer Things: 0.95
    Benn Stancil ¬∑ Mode Analytics: 0.9
    Blef ¬∑ Data (FR): 0.9
    Snowflake Blog: 0.7
    Databricks Blog: 0.7
    dbt Blog: 0.7
    Dagster Blog: 0.7
    Apache Airflow Blog: 0.7
    Airbyte Blog: 0.7
    Meltano Blog: 0.7
    dlt Blog: 0.7
    OCTO Talks!: 0.7
    Ippon Technologies Blog: 0.7
    Zenika Tech Blog: 0.7
    Dataiku Blog: 0.7
    daily.dev: 0.3
    Netflix Tech Blog: 0.95
    Uber Engineering Blog: 0.9
    Airbnb Engineering: 0.9
    LinkedIn Engineering: 0.85
    Meta Engineering: 0.85
    Stripe Engineering Blog: 0.85
    GitHub Engineering: 0.85
    Spotify Engineering: 0.85
    Shopify Engineering: 0.8
    Dropbox Tech Blog: 0.8
    # Nouvelles sources (Phase 1)
    Reddit Data Engineering (Top): 0.85
    Data Mechanics: 0.85
    Twitch Engineering: 0.85
    Coinbase Engineering: 0.85
    Slack Engineering: 0.8
    DoorDash Engineering: 0.8
    Lyft Engineering: 0.75
    # YouTube channels (Phase 2)
    Seattle Data Guy (YouTube): 0.9
    # Advancing Analytics (YouTube): 0.85  # 404 error
    # Data with Zach (YouTube): 0.9  # 404 error
    Andreas Kretz (YouTube): 0.95
    # E-learning Bridge (YouTube): 0.85  # 404 error
    Guy in a Cube (YouTube): 0.85
    # Learn Data with Mark (YouTube): 0.85  # 404 error
    # Podcasts (Phase 2)
    Data Engineering Podcast: 0.95
    Analytics Power Hour: 0.85
    The Analytics Engineering Podcast (dbt): 0.9
    Pinterest Engineering: 0.75
    Instagram Engineering: 0.75
    Twitter/X Engineering: 0.75
    PayPal Engineering: 0.7
    GitLab Engineering: 0.7
    Etsy Engineering: 0.7
    Atlassian Engineering: 0.7
    Booking.com Tech Blog: 0.7
    Salesforce Engineering: 0.7
    Monzo Engineering: 0.7
    Segment Engineering: 0.7
    Confluent Blog: 0.7
  quality:
    min_len_good: 1500
    bonus_good_len: 20
    bonus_has_code: 10
  tech:
    keywords:
    - airflow
    - dagster
    - prefect
    - dbt
    - spark
    - lakehouse
    - iceberg
    - delta lake
    - hudi
    - warehouse
    - orchestration
    - etl
    - elt
    - kafka
    - data contract
    - feature store
    - rag
    - llm
    max_points: 20
llm:
  provider: groq  # Switchable: groq (d√©faut), openai, ollama
  temperature: 0.2
  max_tokens: 1200

  # Config Groq (actuel, gratuit, rapide)
  groq:
    api_key_env: GROQ_API_KEY
    model: llama-3.1-8b-instant
    base_url: https://api.groq.com/openai/v1

  # Config OpenAI (fallback si Groq down, payant)
  openai:
    api_key_env: OPENAI_API_KEY
    model: gpt-4o-mini  # Moins cher que gpt-4
    base_url: https://api.openai.com/v1

  # Config Ollama (local, z√©ro co√ªt, n√©cessite installation)
  ollama:
    model: llama3.1  # Ou llama3.2, mistral, etc.
    base_url: http://localhost:11434/v1
summary:
  enabled: true
  max_sections: 8
  links_per_section: 5
  min_score: 45
